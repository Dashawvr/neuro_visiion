(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"603f41756eb3cd05d0b2":function(e,t,n){"use strict";n.r(t);var o,r=n("8af190b70a6bc55c6f1b"),a=n.n(r),i=n("0d7f0986bcd2f33d8a2a"),c=n("1037a6e0d5914309f74c"),l=n.n(c),s=n("6938d226fd372a75cbf9"),u=(n("4dd2a92e69dcbe1bab10"),n("8a2d1b95e05b6a321e74"),n("be638c054224589367e1")),f=n.n(u),p=n("d4df020feb07c4f688e4"),d=n.n(p),b=n("2aea235afd5c55b8b19b"),y=n.n(b),m=n("e9cb1a74b44c7bf473df"),v=n.n(m),h=n("39db00de4ab4da66ea22"),w=n.n(h),S=n("eec3f8ad528d6958dcd6"),g=n.n(S),A=n("3ead0690618f0035f026"),T=n("f363639bc5c3c97af546"),M=n("e649e14cabb39045d52c"),O=n("e95a63b25fb92ed15721"),D=n("63d0249d2e2f59180ae5"),I=n("b0e7e7bd2640693d642e"),E=n("bd183afcc37eabd79225"),U=n.n(E);function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var c=new Array(i),l=0;l<i;l++)c[l]=arguments[l+3];t.children=c}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=C(e);if(t){var r=C(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==B(t)&&"function"!==typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $,H=j(f.a,{label:"Nothing",color:"secondary"}),J=j(f.a,{label:"Nothing",color:"secondary"}),z=j("br",{}),F=j("br",{}),G=j("br",{}),q=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,o,a=P(i);function i(){var e;R(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return x(N(e=a.call.apply(a,[this].concat(n))),"state",{variant:"",message:"",open:!1,id:null,openModal:!1}),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.state,n=t.id,o=t.open,a=t.variant,i=t.message,c=this.props,l=c.classes,s=c.data,u=c.t,p={textLabels:{body:{noMatch:u("MUIDATABLES.noMatch"),toolTip:u("MUIDATABLES.toolTip"),columnHeaderTooltip:function(e){return"".concat(u("MUIDATABLES.sort")," ").concat(e.label)}},pagination:{next:u("MUIDATABLES.next"),previous:u("MUIDATABLES.previous"),rowsPerPage:u("MUIDATABLES.rowsPerPage"),displayRows:u("MUIDATABLES.displayRows")},toolbar:{search:u("MUIDATABLES.search"),downloadCsv:u("MUIDATABLES.downloadCsv"),print:u("MUIDATABLES.print"),viewColumns:u("MUIDATABLES.viewColumns"),filterTable:u("MUIDATABLES.filterTable")},filter:{all:u("MUIDATABLES.all"),title:u("MUIDATABLES.title"),reset:u("MUIDATABLES.reset")},viewColumns:{title:u("MUIDATABLES.titleShow"),titleAria:u("MUIDATABLES.titleAria")},selectedRows:{text:u("MUIDATABLES.text"),delete:u("MUIDATABLES.delete"),deleteAria:u("MUIDATABLES.deleteAria")}},filterType:"dropdown",responsive:"stacked",print:!0,rowsPerPage:10,page:0,onRowsSelect:function(t,n,o){if(n.length){var r=s[n[0].dataIndex].id;e.setState({id:r})}},selectableRowsHeader:!1,selectableRowsOnClick:!0,selectableRows:"single"};return j(r.Fragment,{},void 0,j("div",{className:l.table},void 0,j(d.a,{title:u("TableUsers.title"),data:s,columns:[{name:"id",label:"ID",options:{filter:!0}},{name:"name",label:u("TableUsers.name"),options:{filter:!0}},{name:"surName",label:u("TableUsers.lastName"),options:{filter:!0}},{name:"email",label:u("TableUsers.email"),options:{filter:!0}},{name:"roleId",label:u("TableUsers.role"),options:{filter:!0}},{name:"created_id",label:u("TableUsers.created"),options:{filter:!0,customBodyRender:function(e){if(e){var t=[];return e.map((function(e){var n=s.filter((function(t){return t.id===e}));n.length&&t.push(n[0].name)})),t.length?j("div",{},void 0,t.map((function(e){return j(f.a,{label:e,style:{marginRight:5},color:"primary"},e.id)}))):H}return J}}},{name:"isOnline",label:u("TableUsers.status"),options:{filter:!0,customBodyRender:function(e){return j(f.a,!0===e?{label:u("Status.online"),color:"secondary"}:!1===e?{label:u("Status.offline"),color:"primary"}:{label:u("Status.unknown")})}}}],options:p})),j("div",{},void 0,z,F,j(y.a,{onClick:function(){return e.props.history.push("/home/forms/add/user")},className:l.button,variant:"contained",color:"primary"},void 0,u("Buttons.create"),j(w.a,{className:l.rightIcon})),j(y.a,{onClick:function(){return function(t){t?e.props.history.push("/home/forms/edit/user/?id="+t):e.setState({open:!0,variant:"warning",message:"Notification.clickEdit"})}(n)},className:l.button,variant:"contained",color:"secondary"},void 0,u("Buttons.edit"),j(g.a,{className:l.rightIcon})),j(y.a,{onClick:function(){return function(t){t?e.setState({openModal:!0}):e.setState({open:!0,variant:"warning",message:"Notification.clickDelete"})}(n)},className:l.button,variant:"contained"},void 0,u("Buttons.delete"),j(v.a,{className:l.rightIcon})),G),j(I.a,{open:this.state.openModal,title:u("Modal.title"),desc:u("Modal.desc")+this.state.id,onClose:function(){return e.setState({openModal:!1})},onDelete:function(){return function(t){var n;t?n=s.filter((function(e){return e.id===t})):e.setState({open:!0,variant:"warning",message:"Notification.clickDelete"}),t&&"postgre"===n[0].title?(Object(T.a)("".concat(A.f,"/api/users/").concat(t),A.a).then((function(){e.setState({open:!0,variant:"success",message:"Notification.success"})})).catch((function(t){e.setState({open:!0,variant:"error",message:"Notification.error"})})),e.setState({openModal:!1})):t&&"ldap"===n[0].title&&(U.a.post("".concat(A.f,"/api/ldap/delete"),{cn:n[0].name}).then((function(){e.setState({open:!0,variant:"success",message:"Notification.success"})})).catch((function(t){e.setState({open:!0,variant:"error",message:"Notification.error"})})),e.setState({openModal:!1}))}(n)},cancel:u("Modal.cancel"),deleteText:u("Modal.delete")}),j(M.a,{open:o,handleClose:function(){var t;"clickaway"!==t&&e.setState({open:!1})},variant:a,message:u(i)}))}}])&&k(t.prototype,n),o&&k(t,o),i}(a.a.Component),K=Object(s.withStyles)((function(e){return{button:{margin:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},table:{"& > div":{overflow:"auto"},"& table":x({"& td":{wordBreak:"keep-all"}},e.breakpoints.down("md"),{"& td":{height:60,overflow:"hidden",textOverflow:"ellipsis"}})}}}))(Object(O.withRouter)(Object(D.a)()(q)));function Q(e){return(Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n,o){$||($="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=o;else if(a>1){for(var i=new Array(a),c=0;c<a;c++)i[c]=arguments[c+3];t.children=i}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:$,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ne(e);if(t){var r=ne(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==Q(t)&&"function"!==typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(a,e);var t,n,o,r=Z(a);function a(){var e;W(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return oe(te(e=r.call.apply(r,[this].concat(n))),"state",{users:[],roles:[]}),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;Object(T.a)("".concat(A.f,"/api/users"),A.b).then((function(t){e.setState({users:t.data.users.rows})})),Object(T.a)("".concat(A.f,"/api/role"),A.b).then((function(t){e.setState({roles:t.data.roles.rows})}))}},{key:"render",value:function(){var e=this,t=l.a.name+" - Table",n=l.a.desc;return this.state.users.map((function(t){e.state.roles.map((function(e){e.id===t.roleId&&(t.roleId=e.name)}))})),V("div",{},void 0,V(i.Helmet,{},void 0,V("title",{},void 0,t),V("meta",{name:"description",content:n}),V("meta",{property:"og:title",content:t}),V("meta",{property:"og:description",content:n}),V("meta",{property:"twitter:title",content:t}),V("meta",{property:"twitter:description",content:n})),V("div",{},void 0,V(K,{data:this.state.users})))}}])&&X(t.prototype,n),o&&X(t,o),a}(r.Component);t.default=Object(s.withStyles)({root:{flexGrow:1}})(re)}}]);