(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{"2f7aec647930539a9364":function(t,e,o){"use strict";o.r(e);var n,r=o("8af190b70a6bc55c6f1b"),i=o.n(r),a=o("0d7f0986bcd2f33d8a2a"),c=o("1037a6e0d5914309f74c"),d=o.n(c),s=o("6938d226fd372a75cbf9"),u=o("4dd2a92e69dcbe1bab10"),f=(o("8a2d1b95e05b6a321e74"),o("b02fe3f80d4238b52f20")),l=o.n(f),p=o("edc5ec6b13db97ea0a32"),b=o("63bac7d5ea40ecc9ba06"),y=o.n(b),h=o("435859b6b76fb67a754a"),m=o.n(h),v=(o("2618892602a0e7905b7d"),o("16c7abd7abc407b9f247")),g=o.n(v),w=o("ab4cb61bcb2dc161defb"),S=o("d7dd51e1bf6bfc2c9c3d"),O=o("2aea235afd5c55b8b19b"),k=o.n(O),j=o("c09d19c0d058d138126d"),x=o.n(j),I=o("36164894564e60edef62"),_=o("2a1bd40fccfa6f84a987"),R=o("5e98cee1846dbfd41421"),P=o("63d0249d2e2f59180ae5");function A(t){return(A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e,o,r){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),1===a)e.children=r;else if(a>1){for(var c=new Array(a),d=0;d<a;d++)c[d]=arguments[d+3];e.children=c}if(e&&i)for(var s in i)void 0===e[s]&&(e[s]=i[s]);else e||(e=i||{});return{$$typeof:n,type:t,key:void 0===o?null:""+o,ref:null,props:e,_owner:null}}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=F(t);if(e){var r=F(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return D(this,o)}}function D(t,e){return!e||"object"!==A(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N,$=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(i,t);var e,o,n,r=E(i);function i(){return W(this,i),r.apply(this,arguments)}return e=i,(o=[{key:"render",value:function(){var t=this.props,e=t.classes,o=t.handleSubmit,n=t.pristine,r=t.reset,i=t.submitting,a=this.props.t;return C("div",{},void 0,C(m.a,{container:!0,spacing:3,alignItems:"flex-start",direction:"row",justify:"center"},void 0,C(m.a,{item:!0,xs:12,md:6},void 0,C(l.a,{className:e.root},void 0,C("form",{onSubmit:o},void 0,C("div",{},void 0,C(g.a,{className:e.field},void 0,C(x.a,{htmlFor:"widgetType"},void 0,a("AddWidget.type")),C(p.Field,{name:"widgetType",component:I.b,placeholder:a("AddWidget.type"),required:!0},void 0,C(y.a,{value:"table"},void 0,a("AddWidget.table")),C(y.a,{value:"video"},void 0,a("AddWidget.video")),C(y.a,{value:"text"},void 0,a("AddWidget.text")),C(y.a,{value:"map"},void 0,a("AddWidget.map")),C(y.a,{value:"doc"},void 0,a("AddWidget.doc")),C(y.a,{value:"link"},void 0,a("AddWidget.link")),C(y.a,{value:"image"},void 0,a("AddWidget.image"))))),C("div",{},void 0,C(k.a,{variant:"contained",color:"secondary",type:"submit",disabled:i},void 0,a("Buttons.submit")),C(k.a,{type:"button",disabled:n||i,onClick:r},void 0,a("Buttons.reset")),C(k.a,{variant:"contained",color:"primary",onClick:function(){return R.a.goBack()}},void 0,a("Buttons.cancel"))))))))}}])&&T(e.prototype,o),n&&T(e,n),i}(r.Component),z=Object(p.reduxForm)({form:"addWidget",enableReinitialize:!0})($),G=Object(S.connect)((function(t){return{force:t,initialValues:t.getIn(["initval","formValues"])}}),(function(t){return{init:Object(w.bindActionCreators)(_.b,t),clear:function(){return t(_.a)}}}))(z),J=Object(s.withStyles)((function(t){return{root:{flexGrow:1,padding:30},field:{width:"100%",marginBottom:20},fieldBasic:{width:"100%",marginBottom:20,marginTop:10},inlineWrap:{display:"flex",flexDirection:"row"},buttonInit:{margin:t.spacing(4),textAlign:"center"}}}))(Object(P.a)()(G)),V=(o("f363639bc5c3c97af546"),o("3ead0690618f0035f026")),q=o("e649e14cabb39045d52c"),H=o("e95a63b25fb92ed15721"),K=o("bd183afcc37eabd79225"),L=o.n(K);function M(t){return(M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e,o,n){N||(N="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),1===i)e.children=n;else if(i>1){for(var a=new Array(i),c=0;c<i;c++)a[c]=arguments[c+3];e.children=a}if(e&&r)for(var d in r)void 0===e[d]&&(e[d]=r[d]);else e||(e=r||{});return{$$typeof:N,type:t,key:void 0===o?null:""+o,ref:null,props:e,_owner:null}}function U(t,e,o,n,r,i,a){try{var c=t[i](a),d=c.value}catch(t){return void o(t)}c.done?e(d):Promise.resolve(d).then(n,r)}function X(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=nt(t);if(e){var r=nt(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return et(this,o)}}function et(t,e){return!e||"object"!==M(e)&&"function"!==typeof e?ot(t):e}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var it=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(s,t);var e,o,n,r,i,c=tt(s);function s(){var t;X(this,s);for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return rt(ot(t=c.call.apply(c,[this].concat(o))),"state",{variant:"",message:"",open:!1,coordinatesId:void 0}),rt(ot(t),"handleClose",(function(e,o){"clickaway"!==o&&t.setState({open:!1})})),t}return e=s,(o=[{key:"showResult",value:(r=regeneratorRuntime.mark((function t(e){var o,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={x:350,y:30,width:"300px",height:"300px"},n=null,e._root.entries.map((function(t){"widgetType"===t[0]&&(n=t[1],o.type=t[1]+" widget",o.name=t[1])})),V.d.data=o,t.next=6,L.a.post("".concat(V.f,"/api/widget_coordinates/"),V.d.data,{Authorization:localStorage.getItem("token")}).then((function(t){r.setState({coordinatesId:t.data.data.newWidgetCoordinates}),r.setState({open:!0,variant:"success",message:"Notification.success"})})).catch((function(t){r.setState({open:!0,variant:"error",message:"Notification.error"}),r.props.history.push("/home")}));case 6:setTimeout((function(){return r.redirectToCreate(n)}),2e3);case 7:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(o,n){var i=r.apply(t,e);function a(t){U(i,o,n,a,c,"next",t)}function c(t){U(i,o,n,a,c,"throw",t)}a(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"redirectToCreate",value:function(t){switch(t){case"video":this.props.history.push("/home/forms/add/video?coordinatesId="+this.state.coordinatesId.id+"&type="+t);break;case"map":this.props.history.push("/home/forms/add/map?coordinatesId="+this.state.coordinatesId.id+"&type="+t);break;case"table":this.props.history.push("/home/forms/add/table?coordinatesId="+this.state.coordinatesId.id+"&type="+t);break;case"text":this.props.history.push("/home/forms/add/text?coordinatesId="+this.state.coordinatesId.id+"&type="+t);break;case"doc":this.props.history.push("/home/forms/add/doc?coordinatesId="+this.state.coordinatesId.id+"&type="+t);break;case"image":this.props.history.push("/home/forms/add/image?coordinatesId="+this.state.coordinatesId.id+"&type="+t);break;case"link":this.props.history.push("/home/forms/add/link?coordinatesId="+this.state.coordinatesId.id+"&type="+t)}}},{key:"render",value:function(){var t=this,e=d.a.name+" - Form",o=d.a.desc,n=this.state,r=n.message,i=n.variant,c=n.open,s=this.props.t;return Q("div",{},void 0,Q(a.Helmet,{},void 0,Q("title",{},void 0,e),Q("meta",{name:"description",content:o}),Q("meta",{property:"og:title",content:e}),Q("meta",{property:"og:description",content:o}),Q("meta",{property:"twitter:title",content:e}),Q("meta",{property:"twitter:description",content:o})),Q(u.db,{title:s("AddWidget.title"),icon:"ios-list-box-outline",desc:""},void 0,Q("div",{},void 0,Q(J,{onSubmit:function(e){return t.showResult(e)}}))),Q(q.a,{open:c,handleClose:function(){return t.handleClose()},variant:i,message:s(r)}))}}])&&Y(e.prototype,o),n&&Y(e,n),s}(i.a.Component);e.default=Object(s.withStyles)({root:{flexGrow:1}})(Object(H.withRouter)(Object(P.a)()(it)))}}]);